[gd_scene load_steps=34 format=3 uid="uid://biwmud5wjovh4"]

[ext_resource type="Theme" uid="uid://dfef00daciy56" path="res://themes/skin_view_theme/skin_view_theme.theme" id="1_siacp"]
[ext_resource type="Theme" uid="uid://bunttssun0swb" path="res://themes/twm_theme/twm_theme.tres" id="2_4jyfp"]
[ext_resource type="Script" uid="uid://1074jsseajvh" path="res://scripts/main/skin_viewer/SkinViewer.cs" id="2_5qhg3"]
[ext_resource type="Script" uid="uid://dj1ssupnsjay0" path="res://scripts/main/skin_viewer/PipeBuilder.cs" id="3_bd1xs"]
[ext_resource type="Material" uid="uid://bvlknhbry3w24" path="res://materials/code_bg_material.tres" id="3_xgbat"]
[ext_resource type="Texture2D" uid="uid://cifb5gdsocaxu" path="res://sprites/ui/world_machine/box.tres" id="4_lkdlf"]
[ext_resource type="Script" uid="uid://dl72xku3dvrq8" path="res://scripts/main/skin_viewer/SkinPreviewCreator.cs" id="5_bd1xs"]
[ext_resource type="PackedScene" uid="uid://cks35xrbpjdyt" path="res://prefabs/skin_viewer/skin_preview.tscn" id="5_j3gpn"]
[ext_resource type="PackedScene" uid="uid://bihaq5sq4yuxk" path="res://prefabs/skin_viewer/pipe_template.tscn" id="5_kaaeg"]
[ext_resource type="PhysicsMaterial" uid="uid://dhjj26w46jyw2" path="res://prefabs/skin_viewer/bump_material.tres" id="8_bd1xs"]
[ext_resource type="Script" uid="uid://bwe7c2qky5dwl" path="res://scripts/main/skin_viewer/MainScreenController.cs" id="10_d5j35"]
[ext_resource type="Texture2D" uid="uid://u55jnyjyyf14" path="res://sprites/ui/world_machine/fullscreen_border_down_frame1.png" id="11_4uqou"]
[ext_resource type="Script" uid="uid://da6yi1y0jm0qs" path="res://scripts/main/skin_viewer/CameraMove.cs" id="12_08ho8"]
[ext_resource type="Texture2D" uid="uid://bg1d3l2m525pq" path="res://sprites/ui/world_machine/fullscreen_border_up_frame1.png" id="12_hexfx"]
[ext_resource type="Script" uid="uid://bm4qpq58h02u1" path="res://scripts/main/skin_viewer/Line2DAnimator.cs" id="12_qjn3m"]
[ext_resource type="Texture2D" uid="uid://bo75qtdw8r5bo" path="res://sprites/ui/world_machine/fullscreen_border_down_frame2.png" id="13_kaaeg"]
[ext_resource type="Texture2D" uid="uid://cdyfmg4lia60e" path="res://sprites/ui/world_machine/fullscreen_border_right_frame1.png" id="13_lkdlf"]
[ext_resource type="Texture2D" uid="uid://dtdaasaukdb5m" path="res://sprites/ui/world_machine/fullscreen_border_left_frame1.png" id="14_1s81l"]
[ext_resource type="Texture2D" uid="uid://kofp1aca6crn" path="res://sprites/ui/world_machine/fullscreen_border_up_frame2.png" id="14_08ho8"]
[ext_resource type="Texture2D" uid="uid://c7eu46vnfe3m3" path="res://sprites/ui/world_machine/fullscreen_border_left_frame2.png" id="16_xgbat"]
[ext_resource type="Texture2D" uid="uid://ruqprahda1wp" path="res://sprites/ui/world_machine/fullscreen_border_right_frame2.png" id="17_d5j35"]

[sub_resource type="Gradient" id="Gradient_4rl6t"]
colors = PackedColorArray(1, 1, 1, 1, 1, 1, 1, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_1r0fe"]
gradient = SubResource("Gradient_4rl6t")
width = 2
height = 2

[sub_resource type="Curve" id="Curve_bd1xs"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(0.50526315, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="CurveTexture" id="CurveTexture_5qhg3"]
curve = SubResource("Curve_bd1xs")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_j3gpn"]
particle_flag_disable_z = true
emission_shape_scale = Vector3(1920, 1080, 1)
emission_shape = 3
emission_box_extents = Vector3(1, 1, 1)
spread = 180.0
initial_velocity_min = 3.75
initial_velocity_max = 12.389999
gravity = Vector3(0, 0, 0)
alpha_curve = SubResource("CurveTexture_5qhg3")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_82vyj"]
size = Vector2(440, 300)

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_05ljl"]

[sub_resource type="CanvasItemMaterial" id="CanvasItemMaterial_bd1xs"]
blend_mode = 1

[sub_resource type="Curve" id="Curve_kp0l0"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(0.5017544, 0.17579246), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="CurveTexture" id="CurveTexture_4uqou"]
curve = SubResource("Curve_kp0l0")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_l6v6j"]
particle_flag_disable_z = true
emission_shape_scale = Vector3(2000, 1400, 1)
emission_shape = 3
emission_box_extents = Vector3(1, 1, 1)
spread = 180.0
initial_velocity_min = 3.75
initial_velocity_max = 12.389999
gravity = Vector3(0, 0, 0)
scale_min = 12.94
scale_max = 18.64
alpha_curve = SubResource("CurveTexture_4uqou")

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_bd1xs"]

[node name="SkinViewer" type="Window"]
canvas_item_default_texture_filter = 0
oversampling_override = 1.0
mode = 3
title = "SKIN_VIEWER"
initial_position = 4
size = Vector2i(1920, 1080)
content_scale_mode = 1
theme = ExtResource("1_siacp")
script = ExtResource("2_5qhg3")

[node name="BgGrid" type="Parallax2D" parent="."]
scroll_scale = Vector2(0.6, 0.6)
scroll_offset = Vector2(960, 540)

[node name="TextureRect" type="TextureRect" parent="BgGrid"]
modulate = Color(0.588235, 0.392157, 1, 1)
self_modulate = Color(1, 1, 1, 0.078431375)
texture_repeat = 2
material = ExtResource("3_xgbat")
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -1000.0
offset_top = -600.0
offset_right = 1000.0
offset_bottom = 600.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("4_lkdlf")
stretch_mode = 1

[node name="BgParticles" type="Parallax2D" parent="."]
scroll_scale = Vector2(0.2, 0.2)
scroll_offset = Vector2(960, 540)

[node name="GPUParticles2D" type="GPUParticles2D" parent="BgParticles"]
modulate = Color(0.588235, 0.392157, 1, 1)
amount = 400
texture = SubResource("GradientTexture2D_1r0fe")
lifetime = 5.0
visibility_rect = Rect2(-960, -540, 1920, 1080)
local_coords = true
process_material = SubResource("ParticleProcessMaterial_j3gpn")

[node name="Pipes" type="Node2D" parent="." node_paths=PackedStringArray("From", "MonitorsContainer")]
script = ExtResource("3_bd1xs")
PipeTemplate = ExtResource("5_kaaeg")
From = NodePath("../MainMonitor")
MonitorsContainer = NodePath("../Monitors")
MaxRandomOffset = Vector2(180, 73.5)

[node name="Monitors" type="Node2D" parent="."]
position = Vector2(960, 540)
script = ExtResource("5_bd1xs")
SkinPreviewPrefab = ExtResource("5_j3gpn")

[node name="MainMonitor" type="StaticBody2D" parent="." node_paths=PackedStringArray("MonitorsContainer", "SkinPreviewImage", "NameLabel", "DescLabel", "AuthorLabel", "CommentsLabel")]
position = Vector2(960, 540)
physics_material_override = ExtResource("8_bd1xs")
script = ExtResource("10_d5j35")
MonitorsContainer = NodePath("../Monitors")
SkinPreviewImage = NodePath("MainMonitor/HBoxContainer/VBoxContainer2/TextureRect")
NameLabel = NodePath("MainMonitor/HBoxContainer/VBoxContainer/Name")
DescLabel = NodePath("MainMonitor/HBoxContainer/VBoxContainer/HBoxContainer/HBoxContainer/ScrollContainer/VBoxContainer/Description")
AuthorLabel = NodePath("MainMonitor/HBoxContainer/VBoxContainer/HBoxContainer/HBoxContainer/ScrollContainer/VBoxContainer/Author")
CommentsLabel = NodePath("MainMonitor/HBoxContainer/VBoxContainer/HBoxContainer/HBoxContainer/ScrollContainer/VBoxContainer/Comment")

[node name="MainMonitor" type="PanelContainer" parent="MainMonitor"]
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -220.0
offset_top = -150.0
offset_right = 220.0
offset_bottom = 150.0
grow_horizontal = 2
grow_vertical = 2
theme = ExtResource("1_siacp")

[node name="HBoxContainer" type="HBoxContainer" parent="MainMonitor/MainMonitor"]
layout_mode = 2
theme = ExtResource("2_4jyfp")

[node name="VBoxContainer2" type="VBoxContainer" parent="MainMonitor/MainMonitor/HBoxContainer"]
layout_mode = 2

[node name="TextureRect" type="TextureRect" parent="MainMonitor/MainMonitor/HBoxContainer/VBoxContainer2"]
custom_minimum_size = Vector2(120, 120)
layout_mode = 2
size_flags_vertical = 10
stretch_mode = 5

[node name="Button" type="Button" parent="MainMonitor/MainMonitor/HBoxContainer/VBoxContainer2"]
layout_mode = 2
text = "Apply
"

[node name="VBoxContainer" type="VBoxContainer" parent="MainMonitor/MainMonitor/HBoxContainer"]
layout_mode = 2

[node name="Name" type="Label" parent="MainMonitor/MainMonitor/HBoxContainer/VBoxContainer"]
layout_mode = 2
theme_override_font_sizes/font_size = 32
horizontal_alignment = 1

[node name="HBoxContainer" type="HBoxContainer" parent="MainMonitor/MainMonitor/HBoxContainer/VBoxContainer"]
layout_mode = 2
size_flags_vertical = 3

[node name="HBoxContainer" type="HBoxContainer" parent="MainMonitor/MainMonitor/HBoxContainer/VBoxContainer/HBoxContainer"]
layout_mode = 2

[node name="ScrollContainer" type="ScrollContainer" parent="MainMonitor/MainMonitor/HBoxContainer/VBoxContainer/HBoxContainer/HBoxContainer"]
layout_mode = 2
horizontal_scroll_mode = 0

[node name="VBoxContainer" type="VBoxContainer" parent="MainMonitor/MainMonitor/HBoxContainer/VBoxContainer/HBoxContainer/HBoxContainer/ScrollContainer"]
layout_mode = 2

[node name="Description" type="Label" parent="MainMonitor/MainMonitor/HBoxContainer/VBoxContainer/HBoxContainer/HBoxContainer/ScrollContainer/VBoxContainer"]
custom_minimum_size = Vector2(264, 0)
layout_mode = 2
autowrap_mode = 3

[node name="Author" type="Label" parent="MainMonitor/MainMonitor/HBoxContainer/VBoxContainer/HBoxContainer/HBoxContainer/ScrollContainer/VBoxContainer"]
modulate = Color(1, 1, 1, 0.49411765)
custom_minimum_size = Vector2(264, 0)
layout_mode = 2
theme_override_font_sizes/font_size = 16
autowrap_mode = 3

[node name="HSeparator" type="HSeparator" parent="MainMonitor/MainMonitor/HBoxContainer/VBoxContainer/HBoxContainer/HBoxContainer/ScrollContainer/VBoxContainer"]
modulate = Color(1, 1, 1, 0.2)
layout_mode = 2

[node name="Comment" type="Label" parent="MainMonitor/MainMonitor/HBoxContainer/VBoxContainer/HBoxContainer/HBoxContainer/ScrollContainer/VBoxContainer"]
modulate = Color(1, 1, 1, 0.49411765)
custom_minimum_size = Vector2(264, 0)
layout_mode = 2
theme_override_font_sizes/font_size = 16
horizontal_alignment = 2
autowrap_mode = 3

[node name="CollisionShape2D" type="CollisionShape2D" parent="MainMonitor"]
position = Vector2(0, 0.5)
shape = SubResource("RectangleShape2D_82vyj")

[node name="Label" type="Label" parent="MainMonitor"]
modulate = Color(1, 1, 1, 0.38431373)
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -130.0
offset_top = 155.0
offset_right = 130.0
offset_bottom = 178.0
grow_horizontal = 2
grow_vertical = 0
theme = ExtResource("2_4jyfp")
theme_override_styles/normal = SubResource("StyleBoxEmpty_05ljl")
text = "Click on skin to view info"

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(960, 540)
ignore_rotation = false
position_smoothing_enabled = true
position_smoothing_speed = 3.0
script = ExtResource("12_08ho8")
CameraMoveScale = 0.0

[node name="FrontParticles" type="Parallax2D" parent="."]
z_index = 3
scroll_scale = Vector2(1.75, 1.75)
scroll_offset = Vector2(960, 540)

[node name="GPUParticles2D2" type="GPUParticles2D" parent="FrontParticles"]
modulate = Color(0.588235, 0.392157, 1, 1)
z_index = 1
material = SubResource("CanvasItemMaterial_bd1xs")
amount = 300
texture = SubResource("GradientTexture2D_1r0fe")
lifetime = 5.0
visibility_rect = Rect2(-960, -540, 1920, 1080)
local_coords = true
process_material = SubResource("ParticleProcessMaterial_l6v6j")

[node name="ScreenBounds" type="StaticBody2D" parent="."]
z_index = 2
position = Vector2(960, 540)
physics_material_override = ExtResource("8_bd1xs")

[node name="Right" type="CollisionShape2D" parent="ScreenBounds"]
position = Vector2(960, 0)
rotation = -1.5707964
shape = SubResource("WorldBoundaryShape2D_bd1xs")

[node name="Line2D4" type="Line2D" parent="ScreenBounds/Right"]
modulate = Color(0.588235, 0.392157, 1, 1)
texture_repeat = 2
position = Vector2(0, 198)
rotation = -1.5707964
points = PackedVector2Array(0, -10000, 0, 10000)
width = 404.0
texture = ExtResource("13_lkdlf")
texture_mode = 1
script = ExtResource("12_qjn3m")
Sprites = Array[Texture2D]([ExtResource("13_lkdlf"), ExtResource("17_d5j35")])
WaitTime = 0.1

[node name="Left" type="CollisionShape2D" parent="ScreenBounds"]
position = Vector2(-960, 0)
rotation = 1.5707964
shape = SubResource("WorldBoundaryShape2D_bd1xs")

[node name="Line2D3" type="Line2D" parent="ScreenBounds/Left"]
modulate = Color(0.588235, 0.392157, 1, 1)
texture_repeat = 2
position = Vector2(0, 198)
rotation = -1.5707964
points = PackedVector2Array(0, -10000, 0, 10000)
width = 404.0
texture = ExtResource("14_1s81l")
texture_mode = 1
script = ExtResource("12_qjn3m")
Sprites = Array[Texture2D]([ExtResource("14_1s81l"), ExtResource("16_xgbat")])
WaitTime = 0.1

[node name="Top" type="CollisionShape2D" parent="ScreenBounds"]
position = Vector2(0, -540)
rotation = 3.1415927
shape = SubResource("WorldBoundaryShape2D_bd1xs")

[node name="Line2D2" type="Line2D" parent="ScreenBounds/Top"]
modulate = Color(0.588235, 0.392157, 1, 1)
texture_repeat = 2
position = Vector2(0, 98)
rotation = 3.1415925
points = PackedVector2Array(-10000, 0, 10000, 0)
width = 204.0
texture = ExtResource("12_hexfx")
texture_mode = 1
script = ExtResource("12_qjn3m")
Sprites = Array[Texture2D]([ExtResource("12_hexfx"), ExtResource("14_08ho8")])
WaitTime = 0.1

[node name="Bottom" type="CollisionShape2D" parent="ScreenBounds"]
position = Vector2(0, 540)
shape = SubResource("WorldBoundaryShape2D_bd1xs")

[node name="Line2D" type="Line2D" parent="ScreenBounds/Bottom"]
modulate = Color(0.588235, 0.392157, 1, 1)
texture_repeat = 2
position = Vector2(0, 98)
points = PackedVector2Array(-10000, 0, 10000, 0)
width = 204.0
texture = ExtResource("11_4uqou")
texture_mode = 1
script = ExtResource("12_qjn3m")
Sprites = Array[Texture2D]([ExtResource("11_4uqou"), ExtResource("13_kaaeg")])
WaitTime = 0.1
